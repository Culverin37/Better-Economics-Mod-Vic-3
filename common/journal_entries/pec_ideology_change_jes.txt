pec_ideology_je_1 = {
	icon = "gfx/interface/icons/event_icons/bicorne_hat.dds"

	group = pec_je_group_ig_ideology

	is_shown_when_inactive = {
		NOT = { has_variable = pec_igrepublicanism1_happened }
		has_technology_researched = democracy
		ig:ig_petty_bourgeoisie = {
			has_ideology = ideology:ideology_reactionary
		}
	}

	possible = {
		hidden_trigger = {
			NOT = { has_variable = pec_igrepublicanism1_happened }
		}
		OR = {
			has_law = law_type:law_parliamentary_republic
			has_law = law_type:law_presidential_republic
		}
	}

	immediate = {
	}

	on_monthly_pulse = {
		random_events = {
		}
		effect = {
		}
	}

	complete = {
		NOT = { has_variable = pec_igrepublicanism1_happened }
		OR = {
			has_law = law_type:law_parliamentary_republic
			has_law = law_type:law_presidential_republic
		}
		ig:ig_petty_bourgeoisie = {
			has_ideology = ideology:ideology_reactionary
		}
		custom_tooltip = {
			text = pec_ideologychange_je1_tt.1
			ig:ig_petty_bourgeoisie = {
				leader = {
					NOR = {
						has_ideology = ideology:ideology_royalist
						has_ideology = ideology:ideology_theocrat
						has_ideology = ideology:ideology_orleanist
						has_ideology = ideology:ideology_legitimist
						has_ideology = ideology:ideology_bonapartist
					}
				}
			}
		}
		custom_tooltip = {
			text = pec_ideologychange_je1_tt.2
			OR = {
				ig:ig_landowners = {
					has_ideology = ideology:ideology_republican_paternalistic
				}
				country_has_primary_culture = cu:platinean
				country_has_primary_culture = cu:south_andean
				country_has_primary_culture = cu:north_andean
				country_has_primary_culture = cu:central_american
				country_has_primary_culture = cu:mexican
				country_has_primary_culture = cu:yankee
				country_has_primary_culture = cu:dixie
				country_has_primary_culture = cu:australian
				country_has_primary_culture = cu:anglo_canadian
				country_has_primary_culture = cu:franco_canadian
				country_has_primary_culture = cu:afro_antillean
				country_has_primary_culture = cu:afro_american
				country_has_primary_culture = cu:afro_caribbean
				country_has_primary_culture = cu:afro_caribeno
				country_has_primary_culture = cu:afro_brazilian
				country_has_primary_culture = cu:caribeno
				ig:ig_petty_bourgeoisie = {
					ig_clout < 0.05
				}
			}
		}
	}

	on_complete = {
		set_variable = pec_igrepublicanism1_happened
		trigger_event = { id = pec_igideologychange.1 popup = yes }
	}

	fail = {
		OR = {
			NOR = {
				has_law = law_type:law_parliamentary_republic
				has_law = law_type:law_presidential_republic
			}
			ig:ig_petty_bourgeoisie = {
				NOT = { has_ideology = ideology:ideology_reactionary }
			}
		}
	}

	on_fail = {
		set_variable = pec_igrepublicanism1_happened
	}

	current_value = {
	}

	goal_add_value = {
	}
}

pec_ideology_je_2 = {
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	group = pec_je_group_ig_ideology

	is_shown_when_inactive = {
		NOT = { has_variable = pec_landownermodern1_happened }
		has_technology_researched = democracy
	}

	possible = {
		hidden_trigger = {
			NOT = { has_variable = pec_landownermodern1_happened }
		}
		has_technology_researched = egalitarianism
		NOT = { has_law = law_type:law_peasant_levies }
		NOT = { has_law = law_type:law_serfdom }
		ig:ig_landowners = {
			ig_clout < 0.25
		}
	}

	immediate = {
	}

	on_monthly_pulse = {
		random_events = {
		}
		effect = {
		}
	}

	complete = {
		ig:ig_landowners = {
			has_ideology = ideology:ideology_stratocratic
			ig_clout < 0.1
			leader = {
				NOR = {
					has_ideology = ideology:ideology_traditionalist
					has_ideology = ideology:ideology_theocrat
					has_ideology = ideology:ideology_slaver
				}
			}
		}
	}

	on_complete = {
		set_variable = pec_landownermodern1_happened
		trigger_event = { id = pec_igideologychange.2 popup = yes }
	}

	fail = {
		OR = {
			has_law = law_type:law_peasant_levies
			has_law = law_type:law_serfdom
		}
		ig:ig_landowners = {
			ig_clout > 0.3
		}
	}

	on_fail = {
		set_variable = pec_landownermodern1_happened
	}

	current_value = {
	}

	goal_add_value = {
	}
}

pec_ideology_je_3 = {
	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	group = pec_je_group_ig_ideology

	is_shown_when_inactive = {
		NOT = { has_law = law_type:law_council_republic }
		NOT = { has_variable = pec_lawtradeunionevents1_happened }
		has_technology_researched = labor_movement
	}

	possible = {
		NOT = { has_law = law_type:law_council_republic }
		hidden_trigger = {
			NOT = { has_variable = pec_lawtradeunionevents1_happened }
		}
		ig:ig_trade_unions = {
			has_ideology = ideology:ideology_socialist
		}
		has_technology_researched = socialism
		NOT = { has_journal_entry = je_communism_1 }
		NOT = { has_journal_entry = je_the_red_scare }
	}

	immediate = {
	}

	on_monthly_pulse = {
		random_events = {
		}
		effect = {
		}
	}

	complete = {
		OR = {
			AND = {
				has_law = law_type:law_pec_regulated_unions
				NOT = { has_law = law_type:law_no_social_security }
				NOT = { has_law = law_type:law_no_workers_rights }
				NOT = { has_law = law_type:law_no_health_system }
				NOT = { has_law = law_type:law_no_schools }
			}
			AND = {
				has_law = law_type:law_pec_free_unions
				NOT = { has_law = law_type:law_no_social_security }
				NOT = { has_law = law_type:law_poor_laws }
				NOT = { has_law = law_type:law_no_workers_rights }
				NOT = { has_law = law_type:law_child_labor_allowed }
				has_law = law_type:law_public_health_insurance
				has_law = law_type:law_public_schools
			}
		}
		ig:ig_trade_unions = {
			has_ideology = ideology:ideology_socialist
			ig_approval >= 10
			leader = {
				NOR = {
					has_ideology = ideology:ideology_vanguardist
					has_ideology = ideology:ideology_communist
					has_ideology = ideology:ideology_anarchist
				}
			}
		}
		NOT = { has_journal_entry = je_communism_1 }
		NOT = { has_journal_entry = je_the_red_scare }
	}

	on_complete = {
		set_variable = pec_lawtradeunionevents1_happened
		trigger_event = { id = pec_igideologychange.3 popup = yes }
	}

	fail = {
		has_law = law_type:law_council_republic
	}

	on_fail = {
		set_variable = pec_lawtradeunionevents1_happened
	}

	current_value = {
	}

	goal_add_value = {
	}
}

pec_ideology_je_4 = {
	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	group = pec_je_group_ig_ideology

	is_shown_when_inactive = {
		NOT = { has_variable = pec_devoutmodern_happened }
		ig:ig_devout = {
			NOT = { has_ideology = ideology:ideology_confucian }
		}
		ig:ig_devout = {
			has_ideology = ideology:ideology_moralist
		}
	}

	possible = {
		hidden_trigger = {
			NOT = { has_variable = pec_devoutmodern_happened }
		}
		NOT = { has_law = law_type:law_state_religion }
		NOT = { has_law = law_type:law_theocracy }
		ig:ig_devout = {
			NOT = { has_ideology = ideology:ideology_confucian }
			has_ideology = ideology:ideology_moralist
		}
	}

	immediate = {
	}

	on_monthly_pulse = {
		random_events = {
		}
		effect = {
		}
	}

	complete = {
		NOT = { has_law = law_type:law_state_religion }
		OR = {
			has_technology_researched = corporatism
			ig:ig_devout = {
				ig_clout < 0.05
			}
		}
		ig:ig_devout = {
			has_ideology = ideology:ideology_moralist
			ig_clout < 0.1
			leader = {
				NOR = {
					has_ideology = ideology:ideology_traditionalist
					has_ideology = ideology:ideology_theocrat
				}
			}
		}
	}

	on_complete = {
		set_variable = pec_devoutmodern_happened
		trigger_event = { id = pec_igideologychange.4 popup = yes }
	}

	fail = {
		has_law = law_type:law_theocracy
	}

	on_fail = {
		set_variable = pec_devoutmodern_happened
	}

	current_value = {
	}

	goal_add_value = {
	}
}

pec_ideology_je_5 = {
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	group = pec_je_group_ig_ideology

	is_shown_when_inactive = {
		NOT = { has_variable = pec_intelligentsiamodern_happened }
		ig:ig_intelligentsia = {
			has_ideology = ideology:ideology_pec_oldworld_liberal
		}
	}

	possible = {
		has_technology_researched = egalitarianism
		hidden_trigger = {
			NOT = { has_variable = pec_intelligentsiamodern_happened }
			ig:ig_intelligentsia = {
				has_ideology = ideology:ideology_pec_oldworld_liberal
			}
		}
	}

	immediate = {
	}

	on_monthly_pulse = {
		random_events = {
			250 = 0
			1 = pec_igideologychange_pulse.1
		}
		effect = {
		}
	}

	complete = {
		NOT = { has_law = law_type:law_ethnostate }
		OR = {
			has_law = law_type:law_multicultural
			AND = {
				has_law = law_type:law_national_supremacy
				ig:ig_intelligentsia = {
					leader = {
						OR = {
							has_ideology = ideology:ideology_humanitarian
							has_ideology = ideology:ideology_humanitarian_royalist
							has_ideology = ideology:ideology_integralist
							has_ideology = ideology:ideology_anarchist
						}
					}
				}
			}
			AND = {
				OR = {
					has_law = law_type:law_racial_segregation
					has_law = law_type:law_cultural_exclusion
				}
				ig:ig_intelligentsia = {
					leader = {
						OR = {
							has_ideology = ideology:ideology_reformer
							has_ideology = ideology:ideology_humanitarian
							has_ideology = ideology:ideology_humanitarian_royalist
							has_ideology = ideology:ideology_integralist
							has_ideology = ideology:ideology_anarchist
						}
					}
				}
			}
		}
		ig:ig_intelligentsia = {
			ig_approval >= 5
		}
		has_technology_researched = human_rights
	}

	on_complete = {
		set_variable = pec_intelligentsiamodern_happened
		trigger_event = { id = pec_igideologychange.5 popup = yes }
	}

	fail = {
		OR = {
			has_law = law_type:law_ethnostate
			AND = {
				has_law = law_type:law_national_supremacy
				ig:ig_intelligentsia = {
					leader = {
						OR = {
							has_ideology = ideology:ideology_fascist
							has_ideology = ideology:ideology_ethno_nationalist
							has_ideology = ideology:ideology_pec_liberal_nationalist
						}
					}
				}
			}
		}
		has_technology_researched = pan-nationalism
		ig:ig_intelligentsia = {
			ig_approval >= 5
		}
	}

	on_fail = {
		set_variable = pec_intelligentsiamodern_happened
		trigger_event = { id = pec_igideologychange.6 popup = yes }
	}

	current_value = {
	}

	goal_add_value = {
	}
}

pec_ideology_je_6 = {
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	group = pec_je_group_ig_ideology

	is_shown_when_inactive = {
		NOT = { has_variable = pec_tolerance_happened }
	}

	possible = {
		has_technology_researched = human_rights
		NOT = { has_law = law_type:law_ethnostate }
		hidden_trigger = {
			NOT = { has_variable = pec_tolerance_happened }
		}
	}

	immediate = {
	}

	on_monthly_pulse = {
		effect = {
		}
	}

	complete = {
		NOT = { has_law = law_type:law_ethnostate }
		NOT = { has_law = law_type:law_national_supremacy }
		OR = {
			ig:ig_petty_bourgeoisie = {
				leader = {
					OR = {
						has_ideology = ideology:ideology_reformer
						has_ideology = ideology:ideology_humanitarian
						has_ideology = ideology:ideology_humanitarian_royalist
						has_ideology = ideology:ideology_integralist
						has_ideology = ideology:ideology_anarchist
					}
				}
			}
			ig:ig_pec_unorganized_labour = {
				leader = {
					OR = {
						has_ideology = ideology:ideology_reformer
						has_ideology = ideology:ideology_humanitarian
						has_ideology = ideology:ideology_humanitarian_royalist
						has_ideology = ideology:ideology_integralist
						has_ideology = ideology:ideology_anarchist
					}
				}
			}
		}
	}

	on_complete = {
		set_variable = pec_tolerance_happened
		trigger_event = { id = pec_igideologychange.7 popup = yes }
	}

	fail = {
		has_law = law_type:law_ethnostate
	}

	on_fail = {
		hidden_effect = {
			set_variable = pec_tolerance_happened
		}
	}

	current_value = {
	}

	goal_add_value = {
	}
}


pec_ideology_je_7 = {
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	group = pec_je_group_ig_ideology

	is_shown_when_inactive = {
		NOT = { has_variable = pec_freetrade_happened }
		ig:ig_industrialists = {
			has_ideology = ideology:ideology_laissez_faire_pec_prot
		}
	}

	possible = {
		has_technology_researched = banking
		ig:ig_industrialists = {
			has_ideology = ideology:ideology_laissez_faire_pec_prot
		}
		hidden_trigger = {
			NOT = { has_variable = pec_freetrade_happened }
		}
	}

	immediate = {
		ig:ig_industrialists = {
			save_scope_as = pec_ideologychange7_ig
		}
	}

	on_monthly_pulse = {
		effect = {
		}
	}

	complete = {
		OR = {
			AND = {
				has_journal_entry = pec_boombust_je_1
				custom_tooltip = {
					text = pec_ideologychangeje7_industry_tt
					root.var:pec_market_volatility_industrial > 0.40
				}
			}
			AND = {
				NOT = { has_journal_entry = pec_boombust_je_1 }
				ig:ig_industrialists = {
					leader = {
						has_ideology = ideology:ideology_market_liberal
					}
				}
			}
		}
		root.gdp > 10000000
		average_sol >= 10
		NOT = { has_modifier = missouri_compromise }
	}

	on_complete = {
		set_variable = pec_freetrade_happened
		trigger_event = { id = pec_igideologychange.8 popup = yes }
	}

	fail = {
	}

	on_fail = {
	}

	current_value = {
	}

	goal_add_value = {
	}
}