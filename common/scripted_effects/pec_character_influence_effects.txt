pec_influence_moderate_social = {
	random_list = {
		2 = {
			if = {
				limit = {
					owner = {
						has_technology_researched = socialism
					}
				}
				set_ideology = ideology:ideology_social_democrat
			}
			else = {
				set_ideology = ideology:ideology_distributist
			}
		}
		1 = {
			if = {
				limit = {
					owner = {
						has_technology_researched = egalitarianism
					}
				}
				set_ideology = ideology:ideology_pec_chartist
			}
			else = {
				set_ideology = ideology:ideology_distributist
			}
		}
		1 = {
			set_ideology = ideology:ideology_distributist
		}
		1 = {
			if = {
				limit = {
					owner = {
						has_technology_researched = labor_movement
					}
				}
				set_ideology = ideology:ideology_pec_laborsympathizer
			}
			else = {
				set_ideology = ideology:ideology_pec_chartist
			}
		}
	}
}

pec_influence_moderate_liberal = {
	random_list = {
		3 = {
			set_ideology = ideology:ideology_reformer
		}
		1 = {
			set_ideology = ideology:ideology_pec_chartist
		}
		2 = {
			set_ideology = ideology:ideology_liberal_leader
		}
		1 = {
			if = {
				limit = {
					owner = {
						has_technology_researched = nationalism
					}
				}
				set_ideology = ideology:ideology_pec_liberal_nationalist
			}
			else = {
				set_ideology = ideology:ideology_reformer
			}
		}
	}
}

pec_influence_radical_social = {
	random_list = {
		1 = {
			if = {
				limit = {
					owner = {
						has_technology_researched = socialism
					}
				}
				set_ideology = ideology:ideology_communist
			}
			else = {
				set_ideology = ideology:ideology_social_democrat
			}
		}
		1 = {
			if = {
				limit = {
					owner = {
						has_technology_researched = anarchism
					}
				}
				set_ideology = ideology:ideology_anarchist
			}
			else = {
				set_ideology = ideology:ideology_social_democrat
			}
		}
		1 = {
			if = {
				limit = {
					owner = {
						has_technology_researched = socialism
					}
				}
				set_ideology = ideology:ideology_vanguardist
			}
			else = {
				set_ideology = ideology:ideology_social_democrat
			}
		}
	}
}

pec_influence_radical_liberal = {
	random_list = {
		1 = {
			if = {
				limit = {
					owner = {
						has_technology_researched = human_rights
					}
				}
				set_ideology = ideology:ideology_humanitarian
			}
			else = {
				set_ideology = ideology:ideology_radical
			}
		}
		1 = {
			if = {
				limit = {
					owner = {
						has_technology_researched = feminism
					}
				}
				set_ideology = ideology:ideology_feminist
			}
			else = {
				set_ideology = ideology:ideology_radical
			}
		}
		1 = {
			set_ideology = ideology:ideology_republican_leader
		}
		1 = {
			if = {
				limit = {
					owner = {
						NOT = { has_law = law_type:law_slavery_banned }
					}
				}
				set_ideology = ideology:ideology_abolitionist
			}
			else = {
				set_ideology = ideology:ideology_radical
			}
		}
		1 = {
			set_ideology = ideology:ideology_radical
		}
		1 = {
			if = {
				limit = {
					owner = {
						has_technology_researched = human_rights
						has_law = law_type:law_monarchy
					}
				}
				set_ideology = ideology:ideology_humanitarian_royalist
			}
			else_if = {
				limit = {
					owner = {
						has_technology_researched = human_rights
						NOT = { has_law = law_type:law_monarchy }
					}
				}
				set_ideology = ideology:ideology_humanitarian
			}
			else = {
				set_ideology = ideology:ideology_radical
			}
		}
	}
}

pec_influence_nationalist = {
	random_list = {
		1 = {
			if = {
				limit = {
					owner = {
						has_technology_researched = political_agitation
					}
				}
				set_ideology = ideology:ideology_fascist
			}
			else_if = {
				limit = {
					owner = {
						has_technology_researched = nationalism
					}
				}
				set_ideology = ideology:ideology_pec_liberal_nationalist
			}
			else = {
				set_ideology = ideology:ideology_jingoist_leader
			}
		}
		1 = {
			if = {
				limit = {
					owner = {
						has_technology_researched = pan-nationalism
					}
				}
				set_ideology = ideology:ideology_ethno_nationalist
			}
			else_if = {
				limit = {
					owner = {
						has_technology_researched = nationalism
					}
				}
				set_ideology = ideology:ideology_pec_liberal_nationalist
			}
			else = {
				set_ideology = ideology:ideology_jingoist_leader
			}
		}
		1 = {
			if = {
				limit = {
					owner = {
						has_technology_researched = nationalism
					}
				}
				set_ideology = ideology:ideology_pec_liberal_nationalist
			}
			else = {
				set_ideology = ideology:ideology_jingoist_leader
			}
		}
	}
}

pec_influence_militarist = {
	random_list = {
		1 = {
			if = {
				limit = {
					owner = {
						has_technology_researched = political_agitation
					}
				}
				set_ideology = ideology:ideology_fascist
			}
			else = {
				set_ideology = ideology:ideology_jingoist_leader
			}
		}
		1 = {
			if = {
				limit = {
					owner = { has_technology_researched = socialism }
					interest_group = {
						is_interest_group_type = ig_landowners
					}
				}
				set_ideology = ideology:ideology_jingoist_leader
			}
			else_if = {
				limit = {
					owner = { has_technology_researched = socialism }
				}
				set_ideology = ideology:ideology_vanguardist
			}
			else = {
				set_ideology = ideology:ideology_jingoist_leader
			}
		}
		1 = {
			set_ideology = ideology:ideology_jingoist_leader
		}
	}
}

pec_influence_conservative = {
	random_list = {
		10 = {
			set_ideology = ideology:ideology_traditionalist
		}
		9 = {
			if = {
				limit = {
					owner = {
						has_law = law_type:law_monarchy
					}
				}
				set_ideology = ideology:ideology_royalist
			}
			else = {
				set_ideology = ideology:ideology_traditionalist
			}
		}
		1 = {
			set_ideology = ideology:ideology_royalist
		}
		9 = {
			if = {
				limit = {
					owner = {
						has_law = law_type:law_theocracy
					}
				}
				set_ideology = ideology:ideology_theocrat
			}
			else = {
				set_ideology = ideology:ideology_traditionalist
			}
		}
		1 = {
			set_ideology = ideology:ideology_theocrat
		}
		2 = {
			if = {
				limit = {
					owner = {
						NOT = { has_law = law_type:law_slavery_banned }
					}
				}
				set_ideology = ideology:ideology_slaver
			}
			else = {
				set_ideology = ideology:ideology_traditionalist
			}
		}
	}
}

pec_influence_rural = {
	random_list = {
		5 = {
				set_ideology = ideology:ideology_land_reformer
		}
		1 = {
			if = {
				limit = {
					owner = {
						has_technology_researched = socialism
					}
				}
				set_ideology = ideology:ideology_pec_agrarian_socialist
			}
			else = {
				set_ideology = ideology:ideology_land_reformer
			}
		}
	}
}

pec_influence_anticlerical = {
	random_list = {
		3 = {
			set_ideology = ideology:ideology_atheist
		}
		1 = {
			if = {
				limit = {
					owner = {
						has_technology_researched = socialism
					}
				}
				set_ideology = ideology:ideology_communist
			}
			else = {
				set_ideology = ideology:ideology_atheist
			}
		}
		3 = {
			if = {
				limit = {
					owner = {
						has_technology_researched = empiricism
					}
				}
				set_ideology = ideology:ideology_positivist
			}
			else = {
				set_ideology = ideology:ideology_atheist
			}
		}
	}
}

pec_influence_business = {
	random_list = {
		1 = {
			set_ideology = ideology:ideology_market_liberal
		}
		1 = {
			set_ideology = ideology:ideology_protectionist
		}
		1 = {
			if = {
				limit = {
					owner = {
						has_technology_researched = central_banking
					}
				}
				set_ideology = ideology:ideology_pec_metallist
			}
			else = {
				set_ideology = ideology:ideology_market_liberal
			}
		}
		1 = {
			if = {
				limit = {
					owner = {
						has_technology_researched = central_banking
					}
				}
				set_ideology = ideology:ideology_pec_centralbanker
			}
			else = {
				set_ideology = ideology:ideology_protectionist
			}
		}
	}
}