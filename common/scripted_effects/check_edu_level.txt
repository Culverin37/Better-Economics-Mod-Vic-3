check_edu_level = {
  set_variable = {
		name = current_trade_post_level
		value = 0
	}
	every_scope_building = {
		limit = {
			is_building_type = building_trade_post
		}
		state = {
			change_variable = {
				name = current_trade_post_level
				add = prev.level
			}
		}
	}
	if = {
		limit = {
			has_building = building_trade_post
			var:current_trade_post_level > var:trade_post_level
		}
		if = {
			limit = {
				has_variable = num_accumulate
			}
			change_variable = {
				name = num_accumulate
				add = 1
			}
			if = {
				limit = {
					var:num_accumulate = 4
				}
				remove_variable = num_accumulate
				remove_building = building_trade_post
				set_variable = {
					name = current_trade_post_level
					value = var:trade_post_level
				}
			}
		}
		else = {
			set_variable = {
				name = num_accumulate
				value = 1
			}
		}
	}
	else_if = {
		limit = {
			has_building = building_trade_post
		}
		remove_variable = num_accumulate
		set_variable = {
			name = current_trade_post_level
			value = var:trade_post_level
		}
	}
